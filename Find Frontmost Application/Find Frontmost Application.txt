tell application "Finder"	set appPath to my getFrontAppPath()	set AppleScript's text item delimiters to {":"}	set currentApp to text item -2 of appPath	say currentApp	-- do somethingend tellon getFrontAppPath()	set frontAppPath to (path to frontmost application) as text	set myPath to (path to me) as text		if frontAppPath is myPath then		try			tell application "Finder" to set bundleID to id of file myPath			tell application "System Events" to set visible of (first process whose bundle identifier is bundleID) to false						-- we need to delay because it takes time for the process to hide			-- I noticed this when running the code as an application from the applescript menu bar item			set inTime to current date			repeat				set frontAppPath to (path to frontmost application) as text				if frontAppPath is not myPath then exit repeat				if (current date) - inTime is greater than 2 then exit repeat			end repeat		end try	end if	(*tell application "System Events" to set visible of (first process whose bundle identifier is bundleID) to true*)	return frontAppPathend getFrontAppPath